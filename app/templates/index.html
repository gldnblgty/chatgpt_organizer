<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="default-src 'self';
                 connect-src 'self' http://localhost:5000;
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline';
                 base-uri 'self';
                 form-action 'self';
                 frame-ancestors 'none';
                 object-src 'none'" http-equiv="Content-Security-Policy"/>
<meta content="no-referrer" http-equiv="Referrer-Policy">
<meta content="nosniff" http-equiv="X-Content-Type-Options"/>
<meta content="DENY" http-equiv="X-Frame-Options"/>
<title>ChatGPT Conversation Organizer</title>

</meta><link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet"/></head>
<body>
<div class="container">
<div class="header">
<h1>ChatGPT Conversation Organizer</h1>
<p>Upload your <strong>conversations.json</strong> export and let AI (or time grouping) organize everything automatically.</p>
<div style="margin-top:20px; background:#f7fafc; border-left:4px solid #667eea; padding:15px 20px; border-radius:8px;">
<h3 style="font-size:16px; margin-bottom:8px;">How to Export Your Conversations</h3>
<ol style="margin-left:18px; line-height:1.8; color:#4a5568; font-size:14px;">
<li>Go to <a href="https://chat.openai.com/" style="color:#667eea; text-decoration:none;" target="_blank">chat.openai.com</a></li>
<li>Click your <strong>profile icon</strong> (bottom-left) â†’ <strong>Settings</strong></li>
<li>Select <strong>Data Controls</strong> â†’ click <strong>Export Data</strong></li>
<li>After a few minutes, youâ€™ll get an email from OpenAI â€” open it and click <strong>Download</strong></li>
<li>Unzip the file, and inside youâ€™ll find <code>conversations.json</code></li>
</ol>
</div>
</div>
<div id="setupSection">
<div class="api-key-section" id="apiKeySection">
<h2>ğŸ”‘ OpenAI API Key</h2>
<div class="alert alert-info">
<strong>Privacy:</strong> Your key is used only to request AI categorization and is not stored.
        </div>
<div class="api-key-input">
<input autocapitalize="off" autocomplete="off" autocorrect="off" id="apiKeyInput" inputmode="text" placeholder="sk-..." spellcheck="false" type="password"/>
<button class="btn btn-primary" id="useKeyBtn">Use for this run</button>
</div>
<small>Only needed for <strong>By Category</strong> mode.</small>
</div>
<div class="upload-section">
<div class="alert alert-warning">
<strong>Note:</strong> â€œBy Month/Yearâ€ is free &amp; instant. â€œBy Categoryâ€ uses your OpenAI key.
        </div>
<div style="background:#f7fafc; padding:20px; border-radius:10px; margin-bottom:20px;">
<h3 style="margin-bottom:15px; font-size:16px;">ğŸ“… Organization Mode</h3>
<div style="display:flex;gap:10px;flex-wrap:wrap;">
<label style="display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 15px;background:white;border:2px solid #e2e8f0;border-radius:8px;">
<input checked="" name="organizeMode" onchange="updateOrganizeMode(this.value)" type="radio" value="category"/>
<span>By Category (AI)</span>
</label>
<label style="display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 15px;background:white;border:2px solid #e2e8f0;border-radius:8px;">
<input name="organizeMode" onchange="updateOrganizeMode(this.value)" type="radio" value="month"/>
<span>By Month</span>
</label>
<label style="display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 15px;background:white;border:2px solid #e2e8f0;border-radius:8px;">
<input name="organizeMode" onchange="updateOrganizeMode(this.value)" type="radio" value="year"/>
<span>By Year</span>
</label>
</div>
</div>
<div id="speedSection">
<h3>âš¡ Advanced Speed</h3>
<div class="speed-controls" style="display:flex;gap:20px;flex-wrap:wrap;margin-bottom:8px;">
<label style="display:flex;align-items:center;gap:8px;background:#f7fafc;padding:10px 15px;border:2px solid #e2e8f0;border-radius:8px;font-size:14px;flex:1 1 220px;">
              Batch size
              <input id="batchSizeInput" max="100" min="5" step="1" style="width:90px;padding:8px 10px;border:1px solid #e2e8f0;border-radius:6px;font-size:14px;" type="number" value="25"/>
</label>
<label style="display:flex;align-items:center;gap:8px;background:#f7fafc;padding:10px 15px;border:2px solid #e2e8f0;border-radius:8px;font-size:14px;flex:1 1 220px;">
              Parallel requests
              <input id="concurrencyInput" max="8" min="1" step="1" style="width:90px;padding:8px 10px;border:1px solid #e2e8f0;border-radius:6px;font-size:14px;" type="number" value="4"/>
</label>
</div>
<small>Adjust for OpenAI rate limits (only for AI categorization).</small>
</div>
<div class="upload-box" id="uploadBox">
<div class="upload-icon">ğŸ“</div>
<h2>Drop your conversations.json here</h2>
<p style="color:#718096;margin-top:10px;">or click to browse</p>
<input accept=".json" class="file-input" id="fileInput" type="file"/>
</div>
</div>
</div>
<!-- REPORTS -->
<div id="mainContent" style="display:none;">
<div class="stats">
<div class="stat-card">
<h3>Total Conversations</h3>
<div class="number" id="totalConvs">0</div>
</div>
<div class="stat-card">
<h3 id="groupsLabel">CATEGORIES</h3>
<div class="number" id="totalGroups">0</div>
</div>
</div>
<div class="controls">
<div class="search-box">
<input id="searchInput" placeholder="ğŸ” Search conversations..." type="text"/>
</div>
<div class="filter-buttons">
<button class="btn btn-secondary" onclick="showAll()">Show All</button>
<button class="btn btn-secondary" onclick="showCompleted()">Completed</button>
<button class="btn btn-secondary" onclick="showPending()">Pending</button>
<button class="btn btn-success" onclick="downloadJSON()">ğŸ’¾ Download JSON</button>
<button class="btn btn-primary" onclick="resetAndUploadNew()">ğŸ“¤ Upload New</button>
</div>
</div>
<div class="categories-grid" id="categoriesGrid"></div>
<div class="instructions">
<h3>How to Organize in ChatGPT</h3>
<ol style="margin-left:20px;line-height:1.8;color:#4a5568;">
<li><strong>Open ChatGPT:</strong> Go to chat.openai.com</li>
<li><strong>Create Projects:</strong> Click "Projects" â†’ "New Project"</li>
<li><strong>Name the Project:</strong> Use category names shown above</li>
<li><strong>Move Conversations:</strong> Right-click conversation â†’ "Move to Project"</li>
<li><strong>Tip:</strong> Click "Open" to jump directly to each conversation</li>
</ol>
</div>
</div>
</div>
<!-- Progress Overlay -->
<div class="processing-overlay" id="processingOverlay">
<div class="processing-content">
<div class="spinner"></div>
<div class="processing-text">Processing your conversationsâ€¦</div>
<div class="processing-subtext" id="processingSubtext">Startingâ€¦</div>
<div class="progress-wrapper">
<div class="progress-track">
<div class="progress-indicator" id="overlayProgress" style="width:0%"></div>
</div>
<div class="progress-label" id="overlayProgressLabel">0%</div>
</div>
</div>
</div>
<div class="toast" id="toast"></div><!-- ===== OpenAI Key Help Section ===== -->
<footer id="openaiKeyHelp" style="text-align:center; margin-top:40px; padding:20px; font-size:14px; color:#4a5568;">
  <hr style="margin-bottom:15px; border: none; border-top: 1px solid #e2e8f0;">
  <p><strong>Need an OpenAI API key?</strong></p>
  <p>
    You can create one securely on your 
    <a href="https://platform.openai.com/account/api-keys" target="_blank" rel="noopener noreferrer">
      OpenAI API Keys page
    </a>.
  </p>
  <p style="opacity:0.9;">
    Copy your key (it starts with <code>sk-</code>) and paste it into the organizer to start categorizing your conversations.
  </p>
</footer>



<script src="{{ url_for('static', filename='js/app.js') }}"></script></body>
</html>
